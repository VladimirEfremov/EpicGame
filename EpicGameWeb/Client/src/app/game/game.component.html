
<table class="globalTable">
  
<tr>
    <td>
      <div class="GameTxt" > 
        Ogame2.0
      </div>
    </td>
    <td>
      <div>
        Nickname:{{accountData.Nickname}}
      </div>
      <div>
        <button (click)="OnSignOutBtnClick()">Exit</button>
      </div>
    </td>

</tr>

<tr>
    <button>ToCore</button>
    <button>ToMap</button>
</tr>

<tr>
  <td>
  <table class="CoreTable" align="left"> 
    <tr>
      <td></td>
      <td>
        <h3> Money: {{coreInfo.Money}} gold Defence power: {{defencePower}} </h3>
        <button (click)="OnCoreBtnClick()">Core</button>

        <ng-template [ngIf]="coreInfo.Casern == 1">
          <button (click)="OnCasernBtnClick()">Casern</button> 
        </ng-template>
        <ng-template [ngIf]="coreInfo.DefenceTower == 1">
          <button (click)="OnGoldMiningBtnClick()">GoldMining</button> 
        </ng-template>
        <ng-template [ngIf]="coreInfo.GoldMining == 1">
          <button (click)="OnDefenceTowerBtnClick()">DefenceTower</button> 
        </ng-template>

        <ng-template [ngIf]="coreInfo.Casern == 0">
            <button class="DiactivatedButton" title="Необходимо купить в Core" disabled="true">Casern</button> 
        </ng-template>
        <ng-template [ngIf]="coreInfo.DefenceTower == 0">
            <button class="DiactivatedButton" title="Необходимо купить в Core" disabled="true">GoldMining</button> 
        </ng-template>
        <ng-template [ngIf]="coreInfo.GoldMining == 0">
            <button class="DiactivatedButton" title="Необходимо купить в Core" disabled="true">DefenceTower</button> 
        </ng-template>

      </td>
    </tr>      
    
    <tr>
      <td></td>
      <ng-template [ngIf]="IsCoreInfoActivated">
          <td>
            <div>Hp: {{coreInfo.BaseHp}}</div> 
            <div>Attack: {{coreInfo.BaseAttack}}</div> 
            <div>Defence: {{coreInfo.BaseDefence}}</div>
            <div>Workers: {{coreInfo.BaseWorkersCount}}/{{coreInfo.BaseCapacity}}</div>
            <div>Type: {{coreInfo.BaseType}}</div>
          </td>
          <td>
              <div>Income: {{coreInfo.BaseIncome}}</div> 
              <div>Outcome: {{coreInfo.BaseOutcome}}</div>
          </td>
          <td>
            <tr><button title="Стоимость: 1000 gold" (click)="OnBaseCapacityUpgrade()">Upgrade Capacity</button></tr>
            <tr><button title="Стоимость: 1000 gold" (click)="OnBaseAttackUpgrade()">Upgrade Attack</button></tr>
            <tr><button title="Стоимость: 1000 gold" (click)="OnBaseDefenceUpgrade()">Upgrade Defence</button></tr>
          </td>
          <td>
            <tr><button title="Стоимость: 1000 gold" (click)="OnBuildCasernBtnClick()">Build Casern</button></tr>
            <tr><button title="Стоимость: 1000 gold" (click)="OnBuildGoldMiningBtnClick()">Build GoldMining</button></tr>
            <tr><button title="Стоимость: 1000 gold" (click)="OnBuildDefenceTowerBtnClick()">Build DefenceTower</button></tr>
          </td>
          <td>
            <button title="Стоимость: 1000 gold" (click)="OnProduceWorkerBtnClick()">Produce worker</button>
          </td>
        </ng-template>
        
        <ng-template [ngIf]="IsCasernInfoActivated">
          <td>  
            <div>Hp: {{coreInfo.CasernHp}}</div> 
            <div>Attack: {{coreInfo.CasernAttack}}</div> 
            <div>Defence: {{coreInfo.CasernDefence}}</div>
            <div>Warriors: {{coreInfo.CasernWarriorsCount}}/{{coreInfo.CasernCapacity}}</div>
            <div>AttackAircraft: {{coreInfo.CasernAttackAircraftsCount}}/{{coreInfo.CasernCapacity}}</div>
            <div>Type: {{coreInfo.CasernType}}</div>
          </td>
          <td>
              <div>Income: {{coreInfo.CasernIncome}}</div> 
              <div>Outcome: {{coreInfo.CasernOutcome}}</div>
          </td>
          <td>
            <tr><button title="Стоимость: 1000 gold" (click)="OnCasernCapacityUpgrade()">Upgrade Capacity</button></tr>
          </td>
          <td>
            <button title="Стоимость: 1000 gold" (click)="OnProduceWarriorBtnClick()">Produce warrior</button> <br/>
            <button title="Стоимость: 1000 gold" (click)="OnProduceAttackAircraftBtnClick()">Produce attackAircraft</button>
          </td>
        </ng-template>
        
        <ng-template [ngIf]="IsDefenceTowerInfoActivated">
            <td>  
              <div>Hp: {{coreInfo.DefenceTowerHp}}</div> 
              <div>Attack: {{coreInfo.DefenceTowerAttack}}</div> 
              <div>Defence: {{coreInfo.DefenceTowerDefence}}</div>
              <div>Type: {{coreInfo.DefenceTowerType}}</div>
            </td>
            <td>
                <div>Income: {{coreInfo.GoldMiningIncome}}</div> 
                <div>Outcome: {{coreInfo.GoldMiningOutcome}}</div>
            </td>
            <td>
              <tr><button title="Стоимость: 1000 gold" (click)="OnDefenceTowerAttackUpgrade()">Upgrade Attack</button></tr>
              <tr><button title="Стоимость: 1000 gold" (click)="OnDefenceTowerDefenceUpgrade()">Upgrade Defence</button></tr>
            </td>
          </ng-template>
        
        <ng-template [ngIf]="IsGoldMiningInfoActivated">
            <td>  
              <div>Hp: {{coreInfo.GoldMiningHp}}</div> 
              <div>Workers: {{coreInfo.GoldMiningNumberOfWorkers}}/{{coreInfo.GoldMiningCapacity}}</div>
              <div>Attack: {{coreInfo.GoldMiningAttack}}</div> 
              <div>Defence: {{coreInfo.GoldMiningDefence}}</div>
              <div>Type: {{coreInfo.GoldMiningType}}</div>
            </td>
            <td>
              <tr><button title="Стоимость: 1000 gold" (click)="OnGoldMiningCapacityUpgrade()">Upgrade Capacity</button></tr>
            </td>
            <td>
                <div>Income: {{coreInfo.GoldMiningIncome}}</div> 
                <div>Outcome: {{coreInfo.GoldMiningOutcome}}</div>
            </td>
            <td>
              <button title="Добавит нового рабочего на производственную линию"
                      (click)="OnAddWorkerToMineBtnClick()">Добавить работника</button> <br/>
            </td>
        </ng-template>
    </tr>
    
  </table>
  </td>
  
  <td>
    <table class="CommunicationTable">
      <tr align="center" class="cmntr">
          <td>
              <div class="TextInCenter" [ngSwitch]="numberOfSelectedList">
                  <ng-template [ngSwitchCase]="0">Все</ng-template>
                  <ng-template [ngSwitchCase]="1">Друзья</ng-template>
                  <ng-template [ngSwitchCase]="2">Подписчики</ng-template>
                  <ng-template [ngSwitchCase]="3">Подписки</ng-template>
              </div>
          </td>
          <td> <div>{{numberOfPage}}</div> </td>
      </tr>
      <tr>
        <td>
          <div>
            <button (click)="OnLessBtnClick()">
              &lt;
            </button>
            <button (click)="OnGreaterBtnClick()">
              &gt;
            </button>
          </div>
        </td>
      </tr>
      <tr>
        <td>
          <tr>
            <button class="cmnBtn" (click)="OnAllBtnClick()">Все</button>
          </tr>
          <tr>
            <button class="cmnBtn" (click)="OnFriendsBtnClick()">Друзья</button>
          </tr>
          <tr>
            <button class="cmnBtn" (click)="OnFollowersBtnClick()">Подписчики</button>
          </tr>
          <tr>
            <button class="cmnBtn" (click)="OnFollowingsBtnClick()">Подписки</button>
          </tr>
        </td>
        
        <td>
          <div [ngSwitch]="numberOfSelectedList">
              <ng-template ngSwitchCase="0">
                  <div *ngFor=
                    "let user of selectedAll">
                    <button class="btnList" 
                    (click)="OnUserBtnClick(user)">
                      {{user.Nickname}}
                    </button>
                  </div>
              </ng-template>

              <ng-template ngSwitchCase="1"> 
                  <div *ngFor=
                  "let user of selectedFriends">
                  <button class="btnList" 
                  (click)="OnUserBtnClick(user)">
                    {{user.Nickname}}
                  </button>
                </div>
              </ng-template>

              <ng-template ngSwitchCase="2">
                  <div *ngFor=
                  "let user of selectedFollowers">
                  <button class="btnList" 
                  (click)="OnUserBtnClick(user)">
                    {{user.Nickname}}
                  </button>
                </div>
              </ng-template>

              <ng-template ngSwitchCase="3">
                  <div *ngFor=
                  "let user of selectedFollowings">
                  <button class="btnList" 
                  (click)="OnUserBtnClick(user)">
                    {{user.Nickname}}
                  </button>
                </div>
              </ng-template>

          </div>

        </td>
      </tr>

    </table>
  </td>
  
</tr>

</table>

<div class="UsersActionWindowBox">
  <ng-template [ngIf]="isUserActionsWindowVisible">
    
    <div class="UsersActionWindow" 
      [ngSwitch]="numberOfSelectedList">
      <div class="RoundedExitBtnBox">
        <button class="RoundedExitBtn"
                (click)="OnExitBtnClick()">&#215;</button>
      </div>
      
      <br/> 
      <br/>

      <div class="UserInfo">
        User info
        <br/> 
        Nickname: {{selectedUser.Nickname}}
        <br/> 
        <br/> 
        Core info 
        <br/> 
      </div>
      
      
      <div class="btnUserAction">
        <button (click)="OnDuelBattleBtnClick()">Duel</button>
        
        <button (click)="OnCoreAttackBtnClick()">Attack core</button>
  
         <ng-template ngSwitchCase="0">
             <button *ngIf="isSelectedUserFriend"
              (click)="RemoveUserFromFriends()">
              Удалить из друзей
            </button>
            <button *ngIf="!isSelectedUserFriend"
              (click)="AddUserToFriends()">
              Добавить в друзья
            </button>
        </ng-template>
  
         <ng-template ngSwitchCase="1"> 
            <button 
            (click)="RemoveUserFromFriends()">
              Удалить из друзей
            </button>
         </ng-template>
  
         <ng-template ngSwitchCase="3">
            <button 
            (click)="RemoveUserFromFriends()">
            Отменить подписку
            </button>
         </ng-template>
  
         <ng-template ngSwitchDefault>
          <button (click)="AddUserToFriends()">
            Добавить в друзья
          </button>
         </ng-template>
      </div>
      
    </div>
  </ng-template>
</div>


<div class="Logger" onload="this.scrollTop = 9999;"> 
    <div class="LoggerContent"
      *ngFor="let log of loggedData?.Data2">
      <div [ngSwitch]="log.Type">
          <ng-template ngSwitchCase="1"><div class="LoggerWarContent">{{log.Message}} [{{log.Time}}]</div></ng-template>
          <ng-template ngSwitchCase="2"><div class="LoggerWarContent">{{log.Message}} [{{log.Time}}]</div></ng-template>
          <ng-template ngSwitchCase="3"><div class="LoggerWarContent">{{log.Message}} [{{log.Time}}]</div></ng-template>

          <ng-template ngSwitchCase="4"> <div class="LoggerBuildContent">{{log.Message}} [{{log.Time}}]</div></ng-template>
          <ng-template ngSwitchCase="5"> <div class="LoggerBuildContent">{{log.Message}} [{{log.Time}}]</div></ng-template>
          
          <ng-template ngSwitchCase="6"><div class="LoggerCommunicationContent">{{log.Message}} [{{log.Time}}]</div></ng-template>
          <ng-template ngSwitchDefault><div class="LoggerDefaultContent">{{log.Message}} [{{log.Time}}]</div></ng-template>
      </div>
    </div>
  </div>

<div class="CanvasDiv">
  <button>
    CLICK ON ME
  </button>

</div>

 <canvas id="map" width=1000 height=1000>
    Canvas not supported
 </canvas>